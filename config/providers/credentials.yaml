# =============================================================================
# Credentials Configuration
# Reusable authentication configurations
# =============================================================================

credentials:
  # Azure credentials
  - id: azure_default_credentials
    azure:
      type: default_credentials
      # Uses DefaultAzureCredential chain
  
  - id: azure_managed_identity
    azure:
      type: managed_identity
      client_id: ${ADX_CLIENT_ID:}
  
  - id: azure_service_principal
    azure:
      type: service_principal
      client_id: ${AZURE_CLIENT_ID:}
      client_secret: ${AZURE_CLIENT_SECRET:}
      tenant_id: ${AZURE_TENANT_ID:}

  # AWS credentials
  - id: aws_default_credentials
    aws:
      type: default_credentials
  
  - id: aws_access_key
    aws:
      type: access_key
      access_key_id: ${AWS_ACCESS_KEY_ID:}
      secret_access_key: ${AWS_SECRET_ACCESS_KEY:}
      session_token: ${AWS_SESSION_TOKEN:}
      region: ${AWS_REGION:us-east-1}

  # GCP credentials
  - id: gcp_default_credentials
    gcp:
      type: default_credentials
      project_id: ${GCP_PROJECT_ID:}

  # Generic credentials
  - id: postgres_reporting_credentials
    postgresql:
      type: username_password
      username: ${POSTGRES_USER:reporter}
      password: ${POSTGRES_PASSWORD:reportpw}
  
  - id: rest_api_token
    generic:
      type: token
      token: ${API_TOKEN:demo-token}
      header_name: Authorization
      template: "Bearer {token}"
  
  - id: csv_no_credentials
    generic:
      type: no_credential
